{"version":3,"sources":["components/comparison/components/comparison-config.service.ts"],"names":[],"mappings":"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","file":"comparison-config.service.js","sourcesContent":["import { Injectable, ChangeDetectorRef } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Title } from '@angular/platform-browser';\n\nimport { TableDataSet, CriteriaSet, Comparison } from './../shared/index';\nimport { ComparisonDataService } from './comparison-data.service';\nimport { ComparisonService } from './comparison.service';\n\n@Injectable()\nexport class ComparisonConfigService {\n    public tableDataSet: TableDataSet;\n    public criteriaSet: CriteriaSet;\n    public comparison: Comparison;\n    public description: string;\n    \n    constructor(\n            public title: Title,\n            private http: Http,\n            private comparisonDataService: ComparisonDataService,\n            private comparisonService: ComparisonService\n        ){}\n        \n    public loadTableData(cd: ChangeDetectorRef){\n        this.http.request('comparison-configuration/table.json')\n        .subscribe(res => {\n            this.tableDataSet = new TableDataSet(res.json());\n            cd.markForCheck();\n            this.comparisonDataService.loadData(this.tableDataSet, cd);\n        })\n    }\n    \n    public loadCriteria(cd: ChangeDetectorRef){       \n        this.http.request('comparison-configuration/criteria.json')\n        .subscribe(res => {\n            this.criteriaSet = new CriteriaSet(res.json());\n            cd.markForCheck();\n        });\n    }\n    \n    public loadComparison(cd: ChangeDetectorRef){\n        this.http.request('comparison-configuration/comparison.json')\n        .subscribe(res => {\n            this.comparison = new Comparison(res.json());\n            this.title.setTitle(this.comparison.title);\n            cd.markForCheck();\n        });\n    }\n    \n    public loadDescription(cd: ChangeDetectorRef){\n        this.http.request('comparison-configuration/description.md')\n        .subscribe(res => {\n            this.description = this.comparisonService.converter.makeHtml(res.text());\n            cd.markForCheck();\n        });\n    }\n    \n    public getBodyAttachmentTags(): Array<string> {\n        if (!this.comparison) return new Array<string>();\n        let tags: Array<string> = this.comparison.details.bodyAttachmentTags;\n        if (tags.length == 0) tags = this.comparisonDataService.getDefaultAttachmentTags();\n        return tags;\n    }\n    \n    public displayAllName: string = \"All\";\n    public displayAll: boolean;\n    public displayAllChange(toggle:boolean){\n        if(this.tableDataSet){\n            this.tableDataSet.getTableDataArray().forEach((item) => {\n                item.display = toggle;\n            });\n            this.displayAllName = toggle? \"None\" : \"All\";\n        }\n    }\n}"]}